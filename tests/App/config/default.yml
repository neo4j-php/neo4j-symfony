framework:
  secret: test
  test: true

parameters:
  neo4j.dsn.badname: bolt://localhost
  neo4j.dsn.secret: neo4j://neo4j:secret@localhost:7688
  neo4j.dsn.test: neo4j://neo4j:testtest@neo4j
  neo4j.dsn.simple: bolt://test:test@localhost

neo4j:
  default_driver: neo4j-test
  default_driver_config:
    acquire_connection_timeout: 10
    user_agent: "Neo4j Symfony Bundle/testing"
    pool_size: 256
    ssl:
      mode: disable
      verify_peer: false
  default_session_config:
    fetch_size: 999
    access_mode: read
    database: neo4j
  default_transaction_config:
    timeout: 40

  drivers:
    - alias: neo4j_undefined_configs
      dsn: "%neo4j.dsn.badname%"

    - alias: neo4j-enforced-defaults
      dsn: "%neo4j.dsn.badname%"
      priority: null

    - alias: neo4j-partly-enforced-defaults
      dsn: "%neo4j.dsn.secret%"

    - alias: neo4j-simple
      dsn: "%neo4j.dsn.simple%"

    - alias: neo4j-fallback-mechanism
      priority: 100
      dsn: "%neo4j.dsn.badname%"

    - alias: neo4j-fallback-mechanism
      priority: 1000
      dsn: "%neo4j.dsn.badname%"

    - alias: neo4j-test
      dsn: "%neo4j.dsn.test%"
